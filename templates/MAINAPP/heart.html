{%  extends 'MAINAPP/home.html' %}
{% load static %}
{% block content %}
<div class="bground1" >

  <div class="container" style="margin-left:auto;margin-right:auto;padding:0% 3% 6% 3%">
    <br>
    <p style="text-align:right;"><a  href="{% url 'report'  %}" style="font-size:13px;font-weight:400;font-family: 'Roboto', sans-serif;">Báo cáo vấn đề <i class="bi bi-chevron-right"></i></a></p>
    <br>
    <!-- <p  style="font-size:20px;font-weight:500;font-family: 'Roboto', sans-serif;text-align :center;margin:0px;" ></p> -->
    <p  style="font-size:35px;font-weight:500;font-family: 'Roboto', sans-serif;text-align :center;"  >Công cụ chẩn đoán bệnh tim</p>
    
    <br>

      <div class="row" data-aos="fade-zoom-in" data-aos-duration="3000">
        <div class="col-lg-6 col-md-12 col-sm-12 col-12" style="display:flex;flex-wrap:wrap;padding:10px 40px 20px 10px;">
          <p style="font-size:13px;color:#626567 ;font-weight:400;">Bệnh tim/Bệnh tim mạch (CVD) là nguyên nhân gây tử vong hàng đầu trên toàn cầu. Ước tính có 17,9 triệu người chết vì CVD vào năm 2019, chiếm 32% tổng số ca tử vong trên toàn cầu. Trong số những ca tử vong này, 85% là do đau tim và đột quỵ. Hơn 3/4 số ca tử vong do bệnh tim mạch xảy ra ở các nước có thu nhập thấp và trung bình.</p>
      </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-6"style="padding:15px;margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;">
              <div style="width:100%;border:1px solid #CACFD2;border-radius:15px;padding:10px;">
                <p style="text-align:center;font-size:24px;color:#626567;;margin:0px;font-weight:700;padding:16px;border-radius:100px;border:3px solid #626567;;margin-right:auto;margin-left:auto;width:80px;height:80px;">90.5</p>
                <p class=""style="text-align:center;font-size:12px;color:#626567;;font-weight:400;margin:5px;">% Độ chính xác</p>

              </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 col-6"style="padding:15px;margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;">
              <div style="width:100%;border-radius:15px;padding:10px;background:#183FFF ;">
                <p style="text-align:center;font-size:30px;color:white;margin:0px;font-weight:700;padding:16px;border-radius:100px;border:3px solid white;margin-right:auto;margin-left:auto;width:80px;height:80px;"><i class="bi bi-envelope"></i></p>
                <p style="text-align:center;font-size:12px;color:white;font-weight:400;margin:5px;">Kết quả chấn đoán được gửi về mail</p>
              </div>
            </div>
      </div>

    <br>

    <div class="row">
      <div class="col-lg-7 col-md-11 col-sm-11 col-11" style="margin-left:auto;margin-right:auto;margin-bottom:20px;">
        <div class="" style="border: 1px solid #CACFD2;border-radius:15px;padding:20px;background:white;">
        <p style="text-align:center;font-size:12px;margin:5px;color:grey">Những kết quả này chỉ nhằm mục đích cung cấp thông tin nhanh chóng. Hãy tham khảo ý kiến của cơ quan y tế để được tư vấn.</p>
        <hr style="margin-top:0px;">


        <form method="post" enctype="multipart/form-data" action ="{% url 'cvd_prediction_result' %}">
        {% csrf_token %}
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;margin-bottom:20px;">
            <div style="width:100%;padding:10px;">
              <label for="val1" style="font-size:14px;color:black;font-weight:700;margin:5px;">Tuổi</label>
              <input type="number" class="toolinput form-control"name="val1" placeholder="Tính theo năm" style=" background:white;border:1px solid #CACFD2 ;
              border-radius:40px;padding:18px;font-size:14px;color:black;margin-bottom:10px;"  required>
              <label for="val4" style="font-size:14px;color:black;font-weight:700;margin:5px;">Huyết áp lúc nghỉ ngơi</label>
              <input type="number" class="toolinput form-control"name="val4" placeholder="mm Hg " style=" background:white;border:1px solid #CACFD2 ;
              border-radius:40px;padding:18px;font-size:14px;color:black;margin-bottom:10px;" required>
              <label for="val5" style="font-size:14px;color:black;font-weight:700;margin:5px;">Cholesterol</label>
              <input type="number" class="toolinput form-control"name="val5" placeholder="Nồng độ cholesterol trong huyết thanh máu" style=" background:white;border:1px solid #CACFD2 ;
              border-radius:40px;padding:18px;font-size:14px;color:black;margin-bottom:10px;" required>
              <label for="val8" style="font-size:14px;color:black;font-weight:700;margin:5px;">Nhịp tim</label>
              <input type="number" class="toolinput form-control"name="val8" placeholder="Nhịp tim tối đa đạt được" style=" background:white;border:1px solid #CACFD2 ;
              border-radius:40px;padding:18px;font-size:14px;color:black;margin-bottom:10px;" required>
              <label for="val10" style="font-size:14px;color:black;font-weight:700;margin:5px;">Oldpeak</label>
              <input type="number" step="any" class="toolinput form-control"name="val10" placeholder="Chỉ số ST lúc vận động so với lúc nghỉ" style=" background:white;border:1px solid #CACFD2 ;
              border-radius:40px;padding:18px;font-size:14px;color:black;margin-bottom:10px;" required>

              <label for="val2" style="font-size:14px;color:black;font-weight:700;margin:4px;">Giới tính</label>
              <div class="" style="background:white;padding:10px;border-radius:13px;border:1px solid #CACFD2;">
              <div class="form-check">
              <input class="form-check-input" value="1" type="radio" name="val2" id="male"checked >
              <label style="font-size:14px;color:#566573 ;font-weight:400;"class="form-check-label"  for="male">Nam</label>
              <br>
              <input class="form-check-input" value="0" type="radio" name="val2" id="female" >
              <label style="font-size:14px;color:#566573 ;font-weight:400;" class="form-check-label" for="female">Nữ</label>
              </div>
              </div>

              <label for="val6" style="font-size:14px;color:black;font-weight:700;margin:4px;margin-top:13px;">Đường huyết lúc đói > 120 mg/dl</label>
              <div class="" style="background:white;padding:10px;border-radius:13px;border:1px solid #CACFD2;">
              <div class="form-check">
              <input class="form-check-input" value="1" type="radio" name="val6" id="yes"checked >
              <label style="font-size:14px;color:#566573 ;font-weight:400;"class="form-check-label"  for="yes">Có</label>
              <br>
              <input class="form-check-input" value="0" type="radio" name="val6" id="no" >
              <label style="font-size:14px;color:#566573 ;font-weight:400;" class="form-check-label" for="no">Không</label>
              </div>
              </div>


            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;margin-bottom:20px;">
            <div style="width:100%;padding:10px;">

              <label for="val3" style="font-size:14px;color:black;font-weight:700;margin:4px;">Loại đau ngực</label>
              <div class="" style="background:white;padding:10px;border-radius:13px;border:1px solid #CACFD2;">
              <div class="form-check">
              <input class="form-check-input" value="3" type="radio" name="val3" id="typicalangina"checked >
              <label style="font-size:14px;color:#566573 ;font-weight:400;"class="form-check-label"  for="typicalangina">Đau thắt ngực điển hình</label>
              <br>
              <input class="form-check-input" value="2" type="radio" name="val3" id="non-anginalpain">
              <label style="font-size:14px;color:#566573;font-weight:400;"class="form-check-label"  for="non-anginalpain">Đau không thắt ngực</label>
              <br>
              <input class="form-check-input" value="1" type="radio" name="val3" id="atypicalangina" >
              <label style="font-size:14px;color:#566573;font-weight:400;"class="form-check-label" for="atypicalangina">Đau thắt ngực không điển hình</label>
              <br>
              <input class="form-check-input" value="0" type="radio" name="val3" id="asymptomatic" >
              <label style="font-size:14px;color:#566573;font-weight:400;" class="form-check-label" for="asymptomatic">Không có triệu chứng</label>
              </div>
              </div>


              <label for="val7" style="font-size:14px;color:black;font-weight:700;margin:5px;margin-top:15px;">Kết quả điện tâm đồ lúc nghỉ ngơi</label>
              <div class="" style="background:white;padding:10px;border-radius:13px;border:1px solid #CACFD2;">
              <div class="form-check">
              <input class="form-check-input" value="2" type="radio" name="val7" id="stt" checked >
              <label style="font-size:14px;color:#566573 ;font-weight:400;" class="form-check-label" for="stt">Có bất thường sóng ST-T</label>
              <br>
              <input class="form-check-input" value="1" type="radio" name="val7" id="normal">
              <label style="font-size:14px;color:#566573 ;font-weight:400;"class="form-check-label"  for="normal">Bình thường</label>
              <br>
              <input class="form-check-input" value="0" type="radio" name="val7" id="ventricular">
              <label style="font-size:14px;color:#566573 ;font-weight:400;"class="form-check-label"  for="ventricular">Kích thước cơ tim thuộc phần thất trái tăng</label>
              </div>
              </div>

              <label for="val9" style="font-size:14px;color:black;font-weight:700;margin:5px;margin-top:15px;">Tập thể dục gây đau thắt ngực</label>
              <div class="" style="background:white;padding:10px;border-radius:13px;border:1px solid #CACFD2;">
              <div class="form-check">
              <input class="form-check-input" value="1" type="radio" name="val9" id="exangyes"checked >
              <label style="font-size:14px;color:#566573 ;font-weight:400;"class="form-check-label"  for=" exangyes">Có</label>
              <br>
              <input class="form-check-input" value="0" type="radio" name="val9" id="exangno" >
              <label style="font-size:14px;color:#566573 ;font-weight:400;" class="form-check-label" for="exangno">Không</label>
              </div>
              </div>

              <label for="val11" style="font-size:14px;color:black;font-weight:700;margin:5px;margin-top:15px;">Độ dốc của ST tại thời điểm tập luyện đạt mức cao nhất</label>
              <div class="" style="background:white;padding:10px;border-radius:13px;border:1px solid #CACFD2;">
              <div class="form-check">
              <input class="form-check-input" value="2" type="radio" name="val11" id="Upsloping"checked >
              <label style="font-size:14px;color:#566573 ;font-weight:400;"class="form-check-label"  for="Upsloping">Độ dốc lên</label>
              <br>
              <input class="form-check-input" value="1" type="radio" name="val11" id="Flat" >
              <label style="font-size:14px;color:#566573 ;font-weight:400;" class="form-check-label" for="Flat">Bằng phẳng</label>
              <br>
              <input class="form-check-input" value="0" type="radio" name="val11" id="Downsloping">
              <label style="font-size:14px;color:#566573 ;font-weight:400;"class="form-check-label"  for="Downsloping">Độ dốc xuống</label>
              </div>
              </div>


            </div>
          </div>
        </div>

        <div class="text-center">
        <button type="submit" value="Submit" class="btn btn-outline-primary" style="border-radius:50px;font-weight:600;border-width:2px;font-size:15px;"> Xem kết quả <i class="bi bi-chevron-double-right"></i></button>
       </div>
       </form>
       </div>
      </div>
      <div class="col-lg-5 col-md-12 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;">
        <div class="" style="padding:30px;background-color:black;border-radius:15px;">
          {% if output1 or output2 or output1 == 0 %}
          <div style="margin-left:auto;margin-right:auto;margin-bottom:15px;background:rgba(255,255,255,0.02)">
            <table class="table table-striped table-borderless  table-sm table-dark" style="background:transparent">
              <thead><tr><td scope="row"> </td><td style="font-size:14px;font-weight:600;">Chỉ số</td><td  style="font-size:14px;font-weight:600;">Đầu vào</td></tr></thead>
            <tbody>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">1</td><td style="font-size:12px;color:#E5E8E8">Tuổi</td><td style="font-size:12px;color:white;font-weight:600;">{{age}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">2</td><td style="font-size:12px;color:#E5E8E8">Huyết áp lúc nghỉ ngơi</td><td style="font-size:12px;color:white;font-weight:600;">{{tb}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">3</td><td style="font-size:12px;color:#E5E8E8">Cholesterol  </td><td style="font-size:12px;color:white;font-weight:600;">{{cl}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">4</td><td style="font-size:12px;color:#E5E8E8">Nhịp tim </td><td style="font-size:12px;color:white;font-weight:600;">{{thal}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">5</td><td style="font-size:12px;color:#E5E8E8">Oldpeak </td><td style="font-size:12px;color:white;font-weight:600;">{{old}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">6</td><td style="font-size:12px;color:#E5E8E8">Giới tính</td><td style="font-size:12px;color:white;font-weight:600;">{{genderText}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">7</td><td style="font-size:12px;color:#E5E8E8">Đường huyết lúc đói > 120 mg/dl </td><td style="font-size:12px;color:white;font-weight:600;">{{fbsText}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">8</td><td style="font-size:12px;color:#E5E8E8">Loại đau ngực </td><td style="font-size:12px;color:white;font-weight:600;">{{cpText}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">9</td><td style="font-size:12px;color:#E5E8E8">Kết quả điện tâm đồ lúc nghỉ ngơi</td><td style="font-size:12px;color:white;font-weight:600;">{{restecgText}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">10</td><td style="font-size:12px;color:#E5E8E8">Tập thể dục gây đau thắt ngực</td><td style="font-size:12px;color:white;font-weight:600;">{{exangText}}</td></tr>
              <tr><td scope="row"style="font-size:12px;color:#E5E8E8">11</td><td style="font-size:12px;color:#E5E8E8">Độ dốc của ST tại thời điểm tập luyện đạt mức cao nhất</td><td style="font-size:12px;color:white;font-weight:600;">{{slopeText}}</td></tr>
            </tbody>
          </table>
          </div>
          <div class="col-lg-12 col-md-12 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;margin-bottom:15px;padding:13px;border-radius:10px;background: white"">
             <p style="color:black;font-size:16px;text-align:center;font-weight:600;><i class="fa fa-heartbeat" aria-hidden="true"></i> Kết quả</p>
             <hr>
             {% if output1 > 80 %}
             <p style="margin:0px;color:black;font-size:14px;font-weight:700;">Nguy cơ mắc bệnh tim <label style="margin:0px;color:#ff0000;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
             {% if output2 < 1 %}
             <p style="margin:0px;color:#ff0000;font-weight:700;font-size:14px;">Khả năng mắc bệnh tim mạch thấp</p>
             {% else %}
             <br>
             <p style="margin:0px;color:#ff0000;font-weight:700;font-size:14px;">Nguy cơ mắc bệnh tim mạch cao, hãy tham khảo ý kiến cơ quan y tế để được tư vấn.</p>
             {% endif %}

             {% elif output1 > 60 %}
             <p style="margin:0px;color:black;font-size:14px;font-weight:700;">Nguy cơ mắc bệnh tim <label style="margin:0px;color:#c26629;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
             {% if output2 < 1 %}
             <p style="margin:0px;color:#c26629;font-weight:700;font-size:14px;">Khả năng mắc bệnh tim mạch thấp</p>
             {% else %}
             <br>
             <p style="margin:0px;color:#c26629;font-weight:700;font-size:14px;">Nguy cơ mắc bệnh tim mạch cao, hãy tham khảo ý kiến cơ quan y tế để được tư vấn.</p>
             {% endif %}

             {% elif output1 > 40 %}
             <p style="margin:0px;color:black;font-size:14px;font-weight:700;">Nguy cơ mắc bệnh tim <label style="margin:0px;color:#cccc00;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
             {% if output2 < 1 %}
             <p style="margin:0px;color:#cccc00;font-weight:700;font-size:14px;">Khả năng mắc bệnh tim mạch thấp</p>
             {% else %}
             <br>
             <p style="margin:0px;color:#cccc00;font-weight:700;font-size:14px;">Nguy cơ mắc bệnh tim mạch cao, hãy tham khảo ý kiến cơ quan y tế để được tư vấn.</p>
             {% endif %}

             {% elif output1 > 20 %}
             <p style="margin:0px;color:black;font-size:14px;font-weight:700;">Nguy cơ mắc bệnh tim <label style="margin:0px;color:#9ca642;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
             {% if output2 < 1 %}
             <p style="margin:0px;color:#9ca642;font-weight:700;font-size:14px;">Khả năng mắc bệnh tim mạch thấp</p>
             {% else %}
             <br>
             <p style="margin:0px;color:#9ca642;font-weight:700;font-size:14px;">Nguy cơ mắc bệnh tim mạch cao, hãy tham khảo ý kiến cơ quan y tế để được tư vấn.</p>
             {% endif %}

             {% else %}
             <p style="margin:0px;color:black;font-size:14px;font-weight:700;">Nguy cơ mắc bệnh tim <label style="margin:0px;color:#66ff66;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
             {% if output2 < 1 %}
             <p style="margin:0px;color:#66ff66;font-weight:700;font-size:14px;">Khả năng mắc bệnh tim mạch thấp</p>
             {% else %}
             <br>
             <p style="margin:0px;color:#66ff66;font-weight:700;font-size:14px;">Nguy cơ mắc bệnh tim mạch cao, hãy tham khảo ý kiến cơ quan y tế để được tư vấn.</p>
             {% endif %}
             {% endif %}
             <div class="text-center">
               <br><br>
               <a class="btn btn-outline-primary" href="{% url 'cvd_prediction'%}" style="border-radius:30px;border-width:1px;font-size:13px;margin:auto;font-weight:600;margin-bottom:20px;">Start new search <i class="bi bi-chevron-double-right"></i></a>
             </div>

         </div>
         {% else %}
          <div style="margin-left:auto;margin-right:auto;margin-bottom:15px;background:rgba(255,255,255,0.02);">
              <table class="table table-striped table-borderless  table-sm table-dark" style="background:transparent">
                <thead><tr><td scope="row"> </td><td style="font-size:14px;font-weight:600;">Chỉ số</td><td  style="font-size:14px;font-weight:600;">Đầu vào</td></tr></thead>
              <tbody>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">1</td><td style="font-size:12px;color:#E5E8E8">Tuổi</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">2</td><td style="font-size:12px;color:#E5E8E8">Huyết áp lúc nghỉ ngơi</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">3</td><td style="font-size:12px;color:#E5E8E8">Cholesterol  </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">4</td><td style="font-size:12px;color:#E5E8E8">Nhịp tim </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">5</td><td style="font-size:12px;color:#E5E8E8">Oldpeak </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">6</td><td style="font-size:12px;color:#E5E8E8">Giới tính</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">7</td><td style="font-size:12px;color:#E5E8E8">Đường huyết lúc đói > 120 mg/dl </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">8</td><td style="font-size:12px;color:#E5E8E8">Loại đau ngực </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">9</td><td style="font-size:12px;color:#E5E8E8">Kết quả điện tâm đồ lúc nghỉ ngơi</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">10</td><td style="font-size:12px;color:#E5E8E8">Tập thể dục gây đau thắt ngực</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                <tr><td scope="row"style="font-size:12px;color:#E5E8E8">11</td><td style="font-size:12px;color:#E5E8E8">Độ dốc của ST tại thời điểm tập luyện đạt mức cao nhất</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
              </tbody>
            </table>
      </div>
           <div class="col-lg-12 col-md-12 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;margin-bottom:15px;padding:13px;border-radius:10px;background: white"">
              <p style="color:black;font-size:16px;text-align:center;font-weight:600;><i class="fa fa-heartbeat" aria-hidden="true"></i> Kết quả</p>
              <hr>
              <p style="text-align:center;color:grey;font-size:12px;">Chưa có kết quả chẩn đoán nào.</p>
          </div>
          {% endif %}
        </div>
        <!-- <div class="text-center" style="padding:40px;">
          <p  style="text-align:center;padding:0px;font-size:13px;color:gray;font-weight:400;font-family: 'Roboto', sans-serif;">Your feedback is important and it help us to improve our features, please share your experience with us. </p>
          <a class="btn btn-outline-primary" href="{% url 'rating' %}"style="border-radius:30px;border-width:1px;font-size:13px;margin:auto;font-weight:400;padding:4px 8px 4px 8px">Rate Us <i class="bi bi-chevron-double-right"></i></a>
        </div> -->
      </div>
    </div>
  </div>
</div>

{% endblock content %}
