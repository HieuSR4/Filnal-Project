{%  extends 'MAINAPP/home.html' %}
{% load static %}
{% block content %}

<div class="bground1" >


  <div class="container" style="margin-left:auto;margin-right:auto;padding:0% 6% 6% 6%;">
    <br>
    <p style="text-align:right;"><a  href="{% url 'report'  %}" style="font-size:13px;font-weight:400;font-family: 'Roboto', sans-serif;">Báo cáo vấn đề <i class="bi bi-chevron-right"></i></a></p>
    <br>


      <!-- <p  style="font-size:20px;font-weight:500;font-family: 'Roboto', sans-serif;text-align :center;margin:0px;" >Công cụ chẩn đoán bệnh tiểu đường</p> -->
    <p  style="font-size:35px;font-weight:500;font-family: 'Roboto', sans-serif;text-align :center;" >Công cụ chẩn đoán bệnh tiểu đường</p>
    <!-- <p class="col-lg-5"style="margin-left:auto;margin-right:auto;text-align:center;font-size:14px;font-weight:400;font-family: 'Roboto', sans-serif;" >Developed with widely used Random Forest Algorithm, with an accuray of 90.4%.</p> -->
    <br>

    <div class="">
    <div class="row" data-aos="fade-zoom-in" data-aos-duration="3000">
      <div class="col-lg-6 col-md-12 col-sm-12 col-12" style="display:flex;flex-wrap:wrap;padding:15px;">
        <p style="font-size:13px;color:#626567 ;font-weight:400;">Bệnh tiểu đường là nguyên nhân chính gây mù lòa, suy thận, đau tim, đột quỵ. Từ năm 2000 đến năm 2016, tỷ lệ tử vong sớm do bệnh tiểu đường đã tăng 5%. Năm 2019, bệnh tiểu đường là nguyên nhân gây tử vong đứng thứ chín với ước tính khoảng 1,5 triệu ca tử vong trực tiếp do bệnh tiểu đường.</p>
    </div>
          <div class="col-lg-3 col-md-6 col-sm-6 col-6"style="padding:15px;margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;">
            <div style="width:100%;border:1px solid #CACFD2;border-radius:15px;padding:10px;">
              <p style="text-align:center;font-size:24px;color:#626567;margin:0px;font-weight:700;padding:16px;border-radius:100px;border:3px solid #626567;margin-right:auto;margin-left:auto;width:80px;height:80px;">90.4</p>
              <p class=""style="text-align:center;font-size:12px;color:#626567;font-weight:400;margin:5px;">% Độ chính xác</p>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 col-sm-6 col-6"style="padding:15px;margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;">
            <div style="width:100%;border-radius:15px;padding:10px;background:#183FFF ;">
              <p style="text-align:center;font-size:30px;color:white;margin:0px;font-weight:700;padding:16px;border-radius:100px;border:3px solid white;margin-right:auto;margin-left:auto;width:80px;height:80px;"><i class="bi bi-envelope"></i></p>
              <p style="text-align:center;font-size:12px;color:white;font-weight:400;margin:5px;">Kết quả chấn đoán được gửi về email</p>
            </div>
          </div>
    </div>

<br>
      <div class="row">
        <div class="col-lg-6 col-md-10 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;margin-bottom:20px;">
            <div class="" style="border: 1px solid #CACFD2;border-radius:15px;padding:20px;background:white;">

            <p style="text-align:center;font-size:12px;margin:15px;color:#626567;">Những kết quả này chỉ nhằm mục đích cung cấp thông tin nhanh chóng. Hãy tham khảo ý kiến của cơ quan y tế để được tư vấn.</p>
        <form method="post" enctype="multipart/form-data" action ="{% url 'diabetes_risk_result' %}">
        {% csrf_token %}

        <input type="number" class="form-control"name="val1" placeholder="Số lần mang thai" style=" background:#E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;margin-bottom:12px;" required>
        <input type="number" class="form-control"name="val2" placeholder="Glucose" style=" background:#E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;margin-bottom:12px;" required>
        <input type="number" class="form-control"name="val3" placeholder="Huyết áp (mm Hg)" style=" background:#E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;margin-bottom:12px;" required>
        <input type="number" class="form-control"name="val4" placeholder="Ước lượng lượng mỡ cơ thể (mm)" style=" background:#E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;margin-bottom:12px;" required>
        <input type="number" class="form-control"name="val5" placeholder="2-Hour Serum Insulin (mu U/ml)" style=" background: #E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;margin-bottom:12px;" required>
        <input type="number" step="any"class="form-control"name="val6" placeholder="BMI"style=" background: #E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;margin-bottom:12px;" required>
        <input type="number"  step="any"class="form-control"name="val7" placeholder="Tiểu sử gia đình về bệnh tiểu đường" style=" background: #E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;margin-bottom:1px;"required>
        <label>
          <label style="font-size:12px;color:#626567">Không biết tiểu sử gia đình về bệnh tiểu đường</label> <button class="btn btn-light" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample"
          style="font-size:14px;border:0px;margin:0px;padding:0px 4px 0px 4px ;background:transparent;border-radius:30px;color:white;">
           <i class="bi bi-patch-question-fill"></i>
         </button>
        <div class="collapse" id="collapseExample">
        <div class="card card-body"
        style="background:black;border-radius:10px;padding:20px;">
        <p style="color:white;font-size:14px;">Sử dụng các gợi ý sau:</p>
        <p style="font-size:12px;color:#BFC9CA;margin:1px;">0.5 cho cha mẹ, anh chị em ruột</p>
        <p style="font-size:12px;color:#BFC9CA;margin:1px;">0.25  cho anh chị em bán ruột, ông bà, dì hoặc chú </p>
       <p style="font-size:12px;color:#BFC9CA;margin:1px;">0.125  cho dì bán ruột, chú bán ruột hoặc anh chị em họ </p>
       </div>
       </div>
      </label>
        <input type="number" class="form-control"name="val8" placeholder="Tuổi"style=" background:#E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;margin-bottom:12px;margin-top:12px;" required>

    <div class="text-center">
      <hr color="#CACFD2" style="margin:20px 8px 20px 8px">
     <button type="submit" value="Submit" class="btn btn-outline-primary" style="border-radius:50px;border-width:2px;font-weight:600;"> Xem kết quả <i class="bi bi-chevron-double-right"></i></button>
    </div>
    </form>
      </div>
  </div>
    <div class="col-lg-6 col-md-10 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;">
     <div class="" style="padding:30px;background-color:black;border-radius:15px;">

            {% if output1 or output2 or output1 == 0 %}
                <div style="width:100%;padding:0px 10px 0px 10px;background:rgba(255,255,255,0.04);margin-bottom:20px;">
                  <table class="table table-striped table-borderless  table-sm table-dark" style="background:transparent">
                    <thead><tr><td scope="row"style="font-size:12px;color:#E5E8E8"></td><td style="font-size:14px;font-weight:600;">Chỉ số</td><td  style="font-size:14px;font-weight:600;">Đầu vào</td></tr></thead>
                  <tbody>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">1</td><td style="font-size:12px;color:#E5E8E8">Số lần mang thai </td><td style="font-size:12px;color:white;font-weight:600;">{{ p }}</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">2</td><td style="font-size:12px;color:#E5E8E8">Glucose</td><td style="font-size:12px;color:white;font-weight:600;">{{ g }}</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">3</td><td style="font-size:12px;color:#E5E8E8">Huyết áp</td><td style="font-size:12px;color:white;font-weight:600;">{{ bp }}</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">4</td><td style="font-size:12px;color:#E5E8E8">Lượng mỡ </td><td style="font-size:12px;color:white;font-weight:600;">{{ st }}</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">5</td><td style="font-size:12px;color:#E5E8E8">Insulin </td><td style="font-size:12px;color:white;font-weight:600;">{{ insulin }}</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">6</td><td style="font-size:12px;color:#E5E8E8">BMI </td><td style="font-size:12px;color:white;font-weight:600;">{{ bmi }}</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">7</td><td style="font-size:12px;color:#E5E8E8">Tiểu sử gia đình bệnh tiểu đường </td><td style="font-size:12px;color:white;font-weight:600;">{{ dpf }}</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">8</td><td style="font-size:12px;color:#E5E8E8">Tuổi</td><td style="font-size:12px;color:white;font-weight:600;">{{ age }}</td></tr>
                  </tbody>
                </table>
                </div>

                <div style="width:100%;padding:13px;background:white;border-radius:13px;">
                  <p style="color:black;font-weight:700;font-size:16px;text-align:center;"><i class="fa fa-heartbeat" aria-hidden="true"></i> Kết quả</p>
                  <hr >
                  {% if output1 > 80 %}
                  <p style="margin:0px;color:grey;font-size:13px;">Nguy cơ mắc bệnh tiểu đường <label style="margin:0px;color:red;font-weight:600;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
                  {% if output2 < 1 %}
                  <p style="margin:0px;color:red;font-weight:600;font-size:13px;">Khả năng mắc bệnh tiểu đường thấp</p>
                  {% else %}
                  <br>
                  <p style="margin:0px;color:#ff0000;font-weight:600;font-size:13px;">Nguy cơ cao mắc bệnh tiểu đường, hãy tham khảo ý kiến cơ quan y tế</p>
                  {% endif %}

                  {% elif output1 > 60 %}
                  <p style="margin:0px;color:grey;font-size:13px;">Nguy cơ mắc bệnh tiểu đường <label style="margin:0px;color:#c26629;font-weight:600;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
                  {% if output2 < 1 %}
                  <p style="margin:0px;color:#c26629;font-weight:600;font-size:13px;">Khả năng mắc bệnh tiểu đường thấp</p>
                  {% else %}
                  <br>
                  <p style="margin:0px;color:#c26629;font-weight:600;font-size:13px;">Nguy cơ cao mắc bệnh tiểu đường, hãy tham khảo ý kiến cơ quan y tế</p>
                  {% endif %}

                  {% elif output1 > 40 %}
                  <p style="margin:0px;color:grey;font-size:13px;">Nguy cơ mắc bệnh tiểu đường <label style="margin:0px;color:#cccc00;font-weight:600;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
                  {% if output2 < 1 %}
                  <p style="margin:0px;color:#cccc00;font-weight:600;font-size:13px;">Khả năng mắc bệnh tiểu đường thấp</p>
                  {% else %}
                  <br>
                  <p style="margin:0px;color:#cccc00;font-weight:600;font-size:13px;">Nguy cơ cao mắc bệnh tiểu đường, hãy tham khảo ý kiến cơ quan y tế</p>
                  {% endif %}

                  {% elif output1 > 20 %}
                  <p style="margin:0px;color:grey;font-size:13px;">Nguy cơ mắc bệnh tiểu đường <label style="margin:0px;color:#9ca642;font-weight:600;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
                  {% if output2 < 1 %}
                  <p style="margin:0px;color:#9ca642;font-weight:600;font-size:13px;">Khả năng mắc bệnh tiểu đường thấp</p>
                  {% else %}
                  <br>
                  <p style="margin:0px;color:#9ca642;font-weight:600;font-size:13px;">Nguy cơ cao mắc bệnh tiểu đường, hãy tham khảo ý kiến cơ quan y tế</p>
                  {% endif %}

                  {% else %}
                  <p style="margin:0px;color:gre;font-size:13px;">Nguy cơ mắc bệnh tiểu đường <label style="margin:0px;color:#66ff66;font-weight:600;" >&nbsp;&nbsp;{{ output1 }} %</label></p>
                  {% if output2 < 1 %}
                  <p style="margin:0px;color:#66ff66;font-weight:600;font-size:13px;">Khả năng mắc bệnh tiểu đường thấp</p>
                  {% else %}
                  <br>
                  <p style="margin:0px;color:#66ff66;font-weight:600;font-size:13px;">Nguy cơ cao mắc bệnh tiểu đường, hãy tham khảo ý kiến cơ quan y tế</p>
                  {% endif %}

                  {% endif %}
              </div>
            <div class="text-center">
              <br>
              <a class="btn btn-outline-primary" href="{% url 'diabetes_risk'%}" style="border-radius:30px;border-width:2px;font-size:15px;margin:auto;font-weight:700;margin-bottom:20px;">Chẩn đoán mới <i class="bi bi-chevron-double-right"></i></a>

            </div>

            {% else %}
                <div style="width:100%;padding:0px 10px 0px 10px;background:rgba(255,255,255,0.04);margin-bottom:20px;">
                  <table class="table table-striped table-borderless  table-sm table-dark" style="background:transparent">
                    <thead><tr><td scope="row"style="font-size:12px;color:#E5E8E8"></td><td style="font-size:14px;font-weight:600;">Chỉ số</td><td  style="font-size:14px;font-weight:600;">Đầu vào</td></tr></thead>
                  <tbody>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">1</td><td style="font-size:12px;color:#E5E8E8">Số lần mang thai </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">2</td><td style="font-size:12px;color:#E5E8E8">Glucose</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">3</td><td style="font-size:12px;color:#E5E8E8">Huyết áp</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">4</td><td style="font-size:12px;color:#E5E8E8">Lượng mỡ </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">5</td><td style="font-size:12px;color:#E5E8E8">Insulin </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">6</td><td style="font-size:12px;color:#E5E8E8">BMI </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">7</td><td style="font-size:12px;color:#E5E8E8">Tiểu sử gia đình về bệnh tiểu đường </td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                    <tr><td scope="row"style="font-size:12px;color:#E5E8E8">8</td><td style="font-size:12px;color:#E5E8E8">Tuổi</td><td style="font-size:12px;color:white;font-weight:600;">NA</td></tr>
                  </tbody>
                </table>
                </div>

          <div style="width:100%;padding:13px;background:white;border-radius:13px;">
            <p style="color:black;font-size:16px;text-align:center;font-weight:700;"><i class="fa fa-heartbeat" aria-hidden="true"></i> Kết quả</p>
            <hr >
            <p style="text-align:center;color:grey;font-size:12px;">Chưa có kết quả chẩn đoán nào</p>
          </div>
          {% endif %}
            </div>
            <!-- <div class="text-center" style="padding:40px;">
              <p  style="text-align:center;padding:0px;font-size:13px;color:gray;font-weight:400;font-family: 'Roboto', sans-serif;">Your feedback is important and it help us to improve our features, please share your experience with us. </p>
              <a class="btn btn-outline-primary" href="{% url 'rating' %}"style="border-radius:30px;border-width:1px;font-size:13px;margin:auto;font-weight:400;padding:4px 8px 4px 8px">Rate Us <i class="bi bi-chevron-double-right"></i></a>
            </div> -->

        </div>
      </div>
    </div>

  </div>
</div>

{% endblock content %}
